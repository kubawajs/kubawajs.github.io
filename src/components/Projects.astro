---
import { getCollection } from "astro:content";

// Component Imports
import Grid from "../components/Grid.astro";
import ProjectPreview from "./ProjectPreview.astro";

// Content Fetching: List four most recent work projects
const projects = (await getCollection("projects"))
    .sort((a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf())
    .slice(0, 4);
---

<Grid variant="offset">
    {
        projects.map((project) => (
            <li>
                <ProjectPreview project={project} />
            </li>
        ))
    }
</Grid>
